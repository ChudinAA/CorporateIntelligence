#!/bin/bash
# Set environment variables for eventlet
export EVENTLET_NO_GREENDNS=yes

# Use gunicorn with eventlet worker for proper WebSocket support
# Use only one worker as recommended for Socket.IO
exec gunicorn \
  --worker-class eventlet \
  --workers 1 \
  --bind 0.0.0.0:5000 \
  --timeout 120 \
  --log-level debug \
  --access-logfile - \
  --error-logfile - \
  --reload \
  main:app
