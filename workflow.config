#!/bin/bash

echo "Starting the application with TinyLlama model..."

# Create required directories
mkdir -p models
mkdir -p uploads
mkdir -p vector_db

# Download the TinyLlama model if it doesn't exist
echo "Checking for TinyLlama model..."
python download_model.py

# Run the application
echo "Starting Flask application with gunicorn..."
gunicorn --worker-class eventlet --workers 1 --bind 0.0.0.0:5000 --reuse-port --reload main:app
